<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/views.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body>
    <nav class="nav bg-gray1">
      <div class="nav-left">
        <a href="/tutorhomepage" class="nav-brand logo text-color-w">
        tutorConnect
        </a>
        <ul class="nav-menu text-color-w hideinmob">
          <li>
            <div class="dropdown-container">
              <a href="#" class="nav-link">
                My Tutor Dashboard
                <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path fill="none" d="M0 0h24v24H0z"></path>
                  <path fill="#F2F2F2" d="M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z"></path>
                </svg>
              </a>
              <div class="dropdown-menu grid">
                <a href="/homepage"><span>My Student Dashboard</span></a>
                <!--  <a href="#"><span>Buttons</span><span>1434</span></a> -->
              </div>
            </div>
          </li>
          <li>
            <a href="#" class="nav-link"></a>
          </li>
          <li>
            <a href="#" class="nav-link"></a>
          </li>
        </ul>
      </div>
      <div class="nav-right">
        <a class="nav-link btn-primary text-color-w bg-orange" id="myBtn">
          <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
            <path d="M12 19v-7m0 0V5m0 7H5m7 0h7" stroke="#F2F2F2" fill="none" stroke-width="2px"></path>
          </svg>
          <span class="hideinmob">Add Session</span>  
        </a>
        <div class="dropdown-container text-color-w">
          <a href="#" class="nav-link btn-profile">
            <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path fill="none" d="M0 0h24v24H0z"></path>
              <path fill="#F2F2F2" d="M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z"></path>
            </svg>
            <span id="" class="name">Michael James Ross</span>
            <div class="profile-pic">
              <img src="/images/person1.png" alt="Profile Pic">
            </div>
          </a>
          <div class="dropdown-menu profile-dropdown">
            <a href="#">
              <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                <path fill="none" d="M0 0h24v24H0z"></path>
                <path fill="#D1D5DB" d="M20 22h-2v-2a3 3 0 0 0-3-3H9a3 3 0 0 0-3 3v2H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"></path>
              </svg>
              <span>Your Profile</span>
            </a>
            <a href="/homepage">
              <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                <path fill="none" d="M0 0h24v24H0z"></path>
                <path fill="#D1D5DB" d="M20 22h-2v-2a3 3 0 0 0-3-3H9a3 3 0 0 0-3 3v2H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"></path>
              </svg>
              <span>My Student Dashboard</span>
            </a>
            <a href="#">
              <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                <path fill="none" d="M0 0h24v24H0z"></path>
                <path fill="#D1D5DB" d="M10 3h4a8 8 0 1 1 0 16v3.5c-5-2-12-5-12-11.5a8 8 0 0 1 8-8zm2 14h2a6 6 0 1 0 0-12h-4a6 6 0 0 0-6 6c0 3.61 2.462 5.966 8 8.48V17z"></path>
              </svg>
              <span>Send Feedback</span>
            </a>
            <a href="/logout">
              <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" height="20">
                <path d="M18.189 9a15 15 0 0 1 2.654 2.556c.105.13.157.287.157.444m-2.811 3a14.998 14.998 0 0 0 2.654-2.556A.704.704 0 0 0 21 12m0 0H8m5-7.472A6 6 0 0 0 3 9v6a6 6 0 0 0 10 4.472" stroke="#D1D5DB" fill="none" stroke-width="2px"></path>
              </svg>
              <span>Log out</span>
            </a>
          </div>
        </div>
        <div class="menu-icon">
          <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-5 w-5 block" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="24" height="24">
            <path d="M4 12h16M4 18h16M4 6h16" stroke="#D1D5DB" fill="none" stroke-width="2px"></path>
          </svg>
        </div>
      </div>
    </nav>
    <div class="sh-container">
    <section class="sh-hero bg-gray6">
      <div class="sh-hero-container ">

          <div class="upcomingsessions">
            
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <div>
              <h1 class="welcomebacktitle">Welcome back, Tutor <span class="name"></span>!</h1>
              <h3>Your Sessions!</h3>
            </div>
            <p>&nbsp;</p>
            <div class="lessons">
              <div class="row">
                <div class="column padding-10 border-radius-10">
                  <div class="lesson-card ">
                    <div class="lesson-info lesson-row">
                      <div class="lesson-column">
                        <div class="lesson-date">Date: </div>
                        <div class="lesson-time">Time: </div>
                        <div class="lesson-subject">Lesson: </div>
                      </div>
                      <div class="lesson-column align-items-right">
                        <div class="hidden btn-primary bg-darkblue text-color-w"><i class="fa fa-comment" aria-hidden="true"></i> <span class="btn-title">Message</span></div>
                        <div class="hidden btn-primary bg-gray5 text-color-w"><i class="fa fa-video-camera" aria-hidden="true"></i> <span class="btn-title">Video Link</span></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

    </section>
    <section class="sh-hero">
    <div class="sh-hero-container">

    <div class="upcomingsessions">
    <h2>Your Sessions</h2>
    <div id="tutorsessions" class="flex-container">Loading your sessions...</div>

    <h2>Recent Open Requests from Students</h2>
    <div id="requestsList" class="flex-container">Loading requests...</div>
 




<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
  
<div>

  <div class="tutorform-container">
    <div class="form-container">
      <h2>Add Tutoring Session</h2>
    <p>&nbsp;</p>
    <form id="sessionForm">
        <label for="topic-title">Topic Title:</label>
        <input type="text" id="topic-title" name="topic-title" required>
        <div class="inline">
            <div>
                <label for="date">Date:</label>
                <input type="date" id="date" name="date" required>
            </div>
            <div>
                <label for="start-time">Start Time:</label>
                <input type="time" id="start-time" name="start-time" required>
            </div>
            <div>
                <label for="end-time">End Time:</label>
                <input type="time" id="end-time" name="end-time" required>
            </div>
        </div>
        <div>
          <label for="topicstatus">Status:</label>
          <select id="topicstatus" name="topicstatus" class="topicstatus">
              <option value="Open">Open</option>
              <option value="Closed">Closed</option>
              <option value="Cancelled">Cancelled</option>
          </select>
      </div>
        <button type="submit" class="bg-orange">Add</button>
        <a href="/tutorhomepage"><button type="button" class="bg-gray5">Cancel</button></a>
    </form>
      
    </div>
</div>
</div>
  </div>

</div>

<script>
  // Get the modal
  var modal = document.getElementById("myModal");
  
  // Get the button that opens the modal
  var btn = document.getElementById("myBtn");
  
  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("close")[0];
  
  // When the user clicks the button, open the modal 
  btn.onclick = function() {
    modal.style.display = "block";
  }
  
  // When the user clicks on <span> (x), close the modal
  span.onclick = function() {
    modal.style.display = "none";
  }
  
  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
  </script>
     



    </div>
    </section>
    </div>





    <!-- Modal -->
    <div id="modal-overlay" class="modal-overlay"></div>
    <div id="postresponse-modal" class="postresponse-modal">
      <h3 id="postresponse">Request submitted successfully!</h3>
      <button id="close-modal" class="btn-primary bg-orange">OK</button>
    </div>
    <div id="myModal" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <span class="close">&times;</span>
        <div id="subrequest" class="postcontainer bg-gray5 border-radius-10">
          <form method="POST" action="/requests">
            <div class="input-group">
              <input class="input" required autocomplete="off" type="text" name="requestinput" id="requestinput" class="requestinput">
              <label class="label" for="email">Request</label>
            </div>
            <div align="center">
              <label class="inputcontainer">
              <input type="radio" name="urgency" value="Now" required /> Now
              <span class="checkmark"></span>
              </label>
              <label class="inputcontainer">
              <input type="radio" name="urgency" value="Normal" required /> Normal
              <span class="checkmark"></span></label>
            </div>
            <div align="center">
              <button type="submit" class="btn-primary bg-orange">Post</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <script>
      
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const urlParams = new URLSearchParams(window.location.search);
        const message = urlParams.get('message');
      
        if (message) {
          const modal = document.getElementById('postresponse-modal');
          const overlay = document.getElementById('modal-overlay');
          const postresponse = document.getElementById('postresponse');
      
          postresponse.textContent = decodeURIComponent(message);
          modal.style.display = 'block';
          overlay.style.display = 'block';
      
          document.getElementById('close-modal').addEventListener('click', () => {
            modal.style.display = 'none';
            overlay.style.display = 'none';
            // Remove the query parameter from the URL
            const newUrl = window.location.origin + window.location.pathname;
            window.history.replaceState({}, document.title, newUrl);
          });
        }
      });
    </script>
    <script>
      // Get the modal
      var modal = document.getElementById("myModal");
      // Get the button that opens the modal
      var btn = document.getElementById("myBtn");
      // Get the <span> element that closes the modal
      var span = document.getElementsByClassName("close")[0];
      
      // When the user clicks the button, open the modal 
      btn.onclick = function() {
        modal.style.display = "block";
      }
      
      // When the user clicks on <span> (x), close the modal
      span.onclick = function() {
        modal.style.display = "none";
      }
      
      // When the user clicks anywhere outside of the modal, close it
      window.onclick = function(event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      }
    </script>

    <script src="/js/scripts.js"></script>
  </body>
</html>